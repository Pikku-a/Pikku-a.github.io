<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>N073b00k - A Simple Online Notebook</title>
		<link rel="stylesheet" type="text/css" href="themes/notebook-default.css" id="themecss">
	</head>

	<body>
		
		<div class="row">
			
			<h1>N073b00k</h1>
			<h2>A simple online notebook</h2>
			
			<!--TEXTFIELD-->
			<div class="column" id="column1">
				<textarea id="thetextarea" type="text" placeholder="Main notebook"></textarea>
				<br><button onclick="save_note()" style="float:right;">SAVE</button>
			</div>
			
			<!--TEXTFIELD2-->
			<div class="column" id="column2">
				<textarea type="text" placeholder="Temporal notebook (doesn't save)"></textarea>
				<br>
			</div>
		
		</div>
		
		<!--SETTINGS-->
		<button onclick="toggle_settings()">Settings</button>
		<div id="settings" style="display:none;">
			<h3>Feature set</h3>
			<button onclick="set_featureset(1)">Default</button>
			<button onclick="set_featureset(2)">Minimal</button>
			
			<h3>Theme</h3>
			<button onclick="style_change(1)">Default</button>
			<button onclick="style_change(2)">Dark</button>
			<button onclick="style_change(3)">Gentle dark</button>
			<button onclick="style_change(4)">Sky</button>
			<button onclick="style_change(5)">100% Orange juice</button>
			<button onclick="style_change(6)">Yellow!</button>
			<button onclick="style_change(0)">No style</button>
		</div>
		<br><br>
		
		<!--LOGIN
		<h3>Use an id for synchronization.</h3>
		<h4>Anyone with using this id can see your text.</h4>
		<form action="login.php" method="post">
		  <div style="display:inline-block;">
			<label for="idd">ID:</label> <input type="text" id="idd" name="idd">
		  </div>
		  <div class="button" style="display:inline-block;">
			  <button type="submit">OK?</button>
			</div>
		</form>-->
		
		<!--OLD LOGIN CODE
		<h3>Login</h3>
		<form action="get-text.php" method="post">
		  <div style="display:inline-block;">
			<label for="name">Username:</label> <input type="text" id="name" name="username">
		  </div>
		  <div style="display:inline-block;">
			<label for="password">Password:</label> <input type="password" id="password" name="password">
		  </div>
		  <div class="button" style="display:inline-block;">
			  <button type="submit">OK?</button>
			</div>
		</form>
		<!--SIGN UP
		<h3>Sign up</h3>
		<form action="add-user.php" method="post">
		  <div style="display:inline-block;">
			<label for="name">Username:</label> <input type="text" id="name" name="username">
		  </div>
		  <div style="display:inline-block;">
			<label for="password">Password:</label> <input type="password" id="password" name="password">
		  </div>
		  <div class="button" style="display:inline-block;">
			  <button type="submit">OK?</button>
			</div>
		</form>-->

		<hr><br><footer>Â© Pikku-a 2022 | Version 1.4.0</footer>

		<!--MAIN JAVASCRIPT | LOAD | SAVE | SETTINGS | ETC.-->
		<script>

		note_id = 1//localStorage.getItem("noteID");

		//LOAD
		var loaded = false;
		if (loaded == false) {
			//Load text
			loaded = true;
			document.getElementById("thetextarea").value = localStorage.getItem("note1");
			//Load style
			var theme = localStorage.getItem("theme");
			if (theme == 1) {
				document.getElementById("themecss").href = "themes/notebook-default.css";
			}else if (theme == 2) {
				document.getElementById("themecss").href = "themes/notebook-dark.css";
			}else if (theme == 0) {
				document.getElementById("themecss").href = "";
			}else if (theme == 3) {
				document.getElementById("themecss").href = "themes/notebook-gentledark.css";
			}else if (theme == 4) {
				document.getElementById("themecss").href = "themes/notebook-sky.css";
			}else if (theme == 5) {
				document.getElementById("themecss").href = "themes/notebook-orangejuice.css";
			}else if (theme == 6) {
				document.getElementById("themecss").href = "themes/notebook-yellow.css";
			}
			//Load feature set
			var type = localStorage.getItem("featureset");
			if (type == 1) {
				document.getElementById("column2").style.display = "inline-block";
			}else if (type == 2) {
				document.getElementById("column2").style.display = "none";
			}
			console.log("Loaded.");
		}

		//Save every 5 seconds
		setInterval(save_note,5000);

		//SAVE
		function save_note() {
			var notetext = document.getElementById("thetextarea").value;
			localStorage.setItem("note1",notetext);

			console.log("Saved.");
		}
		
		//TOGGLE SETTINGS VISIBILITY
		function toggle_settings() {
			if (document.getElementById("settings").style.display == "none") {
				document.getElementById("settings").style.display = "block";
			}else{
				document.getElementById("settings").style.display = "none";
			}
		}
		
		//CHANGE THEME
		function style_change(theme) {
			//Set theme
			if (theme == 1) {
				document.getElementById("themecss").href = "themes/notebook-default.css";
			}else if (theme == 2) {
				document.getElementById("themecss").href = "themes/notebook-dark.css";
			}else if (theme == 0) {
				document.getElementById("themecss").href = "";
			}else if (theme == 3) {
				document.getElementById("themecss").href = "themes/notebook-gentledark.css";
			}else if (theme == 4) {
				document.getElementById("themecss").href = "themes/notebook-sky.css";
			}else if (theme == 5) {
				document.getElementById("themecss").href = "themes/notebook-orangejuice.css";
			}else if (theme == 6) {
				document.getElementById("themecss").href = "themes/notebook-yellow.css";
			}
			//Save
			localStorage.setItem("theme",theme);
			console.log("Changed theme and saved it.");
		}
		
		//HIDE FEATURES
		function set_featureset(type) {
			//Set feature set
			if (type == 1) {
				document.getElementById("column2").style.display = "inline-block";
			}else if (type == 2) {
				document.getElementById("column2").style.display = "none";
			}
			//Save
			localStorage.setItem("featureset",type);
			console.log("Changed featureset and saved it.");
		}
		
		/*/LOGIN / GET TEXT
		function login(username) {
			if (username == "") {
				alert("Insert an username.");
			}
			console.log("login function started");
			document.getElementById("thetextarea").innerHTML = this.response; //?
			console.log("success");
		}*/
		</script>

	</body>
</html>
